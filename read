import subprocess
import re

def read_bridge_control(bus):
    try:
        lspci_output = subprocess.check_output(["lspci", "-s", bus])
        for line in lspci_output.decode("utf-8").splitlines():
            if "Bridge Control" in line:
                bridge_control_value = re.search(r"Bridge Control \(0x3e\) : (.+)", line)
                if bridge_control_value:
                    print(f"Bridge Control for {bus}: {bridge_control_value.group(1)}")
                    return
        print(f"No Bridge Control information found for {bus}.")
    except subprocess.CalledProcessError:
        print(f"Error reading device {bus}.")

if __name__ == "__main__":
    specific_bus = "17:00.0"
    read_bridge_control(specific_bus)
