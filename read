import subprocess

def set_pci_register(bus, register_value):
    try:
        subprocess.run(["setpci", "-s", bus, "3e.w=" + register_value], check=True)
        print(f"Successfully set 0x3e register for {bus} to {register_value}.")
    except subprocess.CalledProcessError:
        print(f"Error setting register for {bus}.")

if __name__ == "__main__":
    specific_bus = "17:00.0"
    desired_value = "1234"  # Replace with the desired value in hexadecimal format
    set_pci_register(specific_bus, desired_value)
